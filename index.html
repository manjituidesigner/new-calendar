<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0"
    />
    <title>Mobile Work Calendar </title>
    <link rel="stylesheet" href="style.css" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css"
    />
  </head>
  <body>
    <!-- Overlay for drawer aaa and modal -->
    <div class="overlay" id="overlay"></div>

    <!-- Side Drawer -->
    <aside class="drawer" id="drawer">
      <header class="drawer-header">
        <h2>Menu</h2>
        <div class="drawer-header-actions">
          <button class="icon-btn" id="drawerSettingsBtn">‚öôÔ∏è</button>
          <button class="icon-btn" id="drawerCloseBtn">‚úï</button>
        </div>
      </header>

      <nav class="drawer-tabs">
        <button class="drawer-tab active" data-tab="office">Office</button>
        <button class="drawer-tab" data-tab="expenses">Expenses</button>
        <button class="drawer-tab" data-tab="notes">Notes</button>
        <button class="drawer-tab" data-tab="calculator">Calculator</button>
      </nav>

      <section class="drawer-content">
        <!-- Office tab -->
        <div class="drawer-panel active" id="officeTab">
          <h3 class="drawer-title">Calendars</h3>

          <div class="calendar-list" id="calendarList"></div>

          <button class="primary-btn full-width" id="createCalendarToggle">
            + Create New Calendar
          </button>

          <form class="calendar-form" id="calendarForm">
            <div class="field">
              <label>Calendar Name</label>
              <input
                type="text"
                id="calendarName"
                placeholder="e.g. Office Work"
              />
            </div>
            <div class="field">
              <label>Description</label>
              <textarea
                id="calendarDescription"
                rows="2"
                placeholder="Short description"
              ></textarea>
            </div>
            <div class="field-row">
              <div class="field">
                <label>Salary Monthly</label>
                <input
                  type="number"
                  id="salaryMonthly"
                  placeholder="‚Çπ / month"
                  min="0"
                />
              </div>
              <div class="field">
                <label>Salary Hourly</label>
                <input
                  type="number"
                  id="salaryHourly"
                  placeholder="‚Çπ / hour"
                  min="0"
                />
              </div>
            </div>
            <div class="field">
              <label>Working Days / Week</label>
              <select id="workingDaysPerWeek">
                <option value="5">5 days (Mon-Fri)</option>
                <option value="6" selected>6 days (Mon-Sat)</option>
              </select>
            </div>

            <div class="field-row">
              <div class="field">
                <label>Office In Time</label>
                <input
                  type="time"
                  id="officeInTime"
                />
              </div>
              <div class="field">
                <label>Office Out Time</label>
                <input
                  type="time"
                  id="officeOutTime"
                />
              </div>
            </div>
            <div class="field">
              <label>Set PIN (optional)</label>
              <input
                type="password"
                id="calendarPin"
                placeholder="4-6 digit PIN"
                maxlength="6"
              />
            </div>
            <button type="submit" class="primary-btn full-width">
              Add
            </button>
          </form>

          <div class="backup-row">
            <button class="small-btn" id="backupExportBtn">Download Backup</button>
            <button class="small-btn" id="backupImportBtn">Restore Backup</button>
            <input type="file" id="backupFileInput" accept="application/json" style="display: none" />
          </div>
        </div>

        <!-- Expenses tab -->
        <div class="drawer-panel" id="expensesTab">
          <h3 class="drawer-title">Expenses Calendars</h3>

          <div class="calendar-list" id="expensesCalendarList"></div>

          <button class="primary-btn full-width" id="createExpensesCalendarToggle">
            + Create New Expenses Calendar
          </button>

          <form class="calendar-form" id="expensesCalendarForm">
            <div class="field">
              <label>Title</label>
              <input
                type="text"
                id="expensesTitle"
                placeholder="e.g. Home Expenses"
              />
            </div>
            <div class="field">
              <label>Description</label>
              <textarea
                id="expensesDescription"
                rows="2"
                placeholder="Short description"
              ></textarea>
            </div>
            <div class="field-row">
              <div class="field">
                <label>Budget Amount</label>
                <input
                  type="number"
                  id="expensesBudgetAmount"
                  placeholder="‚Çπ / month"
                  min="0"
                />
              </div>
              <div class="field">
                <label>Wallet Amount</label>
                <input
                  type="number"
                  id="expensesWalletAmount"
                  placeholder="‚Çπ balance"
                  min="0"
                />
              </div>
            </div>
            <div class="field">
              <label>4 Digit PIN</label>
              <input
                type="password"
                id="expensesPin"
                placeholder="Optional - 4 digit"
                maxlength="4"
                inputmode="numeric"
              />
            </div>
            <button type="submit" class="primary-btn full-width">
              Save
            </button>
          </form>
        </div>

        <!-- Placeholder tabs -->
        <div class="drawer-panel" id="notesTab">
          <p class="placeholder-text">
            Notes module coming soon.
          </p>
        </div>

        <div class="drawer-panel" id="calculatorTab">
          <h3 class="drawer-title">Calculators</h3>

          <div class="calculator-layout">
            <div class="calculator-list" id="calculatorList">
              <button class="calculator-chip" data-calc="basic">Basic Calculator</button>
              <button class="calculator-chip" data-calc="emi">EMI Calculator</button>
              <button class="calculator-chip" data-calc="gold">Gold Calculator</button>
              <button class="calculator-chip" data-calc="unit">Unit Converter</button>
              <button class="calculator-chip" data-calc="gst">GST Calculator</button>
              <button class="calculator-chip" data-calc="discount">Discount Calculator</button>
              <button class="calculator-chip" data-calc="incomeTax">Income Tax Calculator</button>
              <button class="calculator-chip" data-calc="splitBill">Split Bill Calculator</button>
              <button class="calculator-chip" data-calc="currency">Currency Converter</button>
              <button class="calculator-chip disabled" disabled>More calculators coming soon‚Ä¶</button>
            </div>
          </div>
        </div>
      </section>
    </aside>

    <!-- Main App Container -->
    <div class="app-shell">
      <!-- Top header -->
      <header class="app-header">
        <button class="icon-btn" id="menuBtn">‚ò∞</button>
        <h1 class="app-title">Office Calendar</h1>
        <button class="icon-btn" id="reportBtn">üìä</button>
      </header>

      <!-- Month header -->
      <section class="month-header">
        <button class="nav-arrow" id="prevMonthBtn">‚Äπ</button>
        <div class="month-info">
          <span class="month-label" id="monthLabel"></span>
          <span class="year-label" id="yearLabel"></span>
        </div>
        <button class="nav-arrow aaa" id="nextMonthBtn">‚Ä∫</button>
      </section>

      <!-- Calendar -->
      <section class="calendar-card">
        <div class="weekdays">
          <span>Sun</span>
          <span>Mon</span>
          <span>Tue</span>
          <span>Wed</span>
          <span>Thu</span>
          <span>Fri</span>
          <span>Sat</span>
        </div>
        <div class="days-grid" id="daysGrid"></div>
      </section>

      <!-- Live session bar (under calendar) -->
      <div class="session-bar hidden" id="sessionBar">
        <div class="session-bar-main">
          <div class="session-bar-top">
            <span class="session-status" id="sessionStatus">Working</span>
            <span class="session-productivity" id="sessionProductivity">0% productive</span>
          </div>
          <div class="session-bar-times">
            <span id="sessionStartTime">Start: --:--</span>
            <span id="sessionWorked">Worked: 0h 0m</span>
            <span id="sessionBreak">Break: 0m</span>
          </div>
        </div>
        <div class="session-bar-actions">
          <button class="chip orange" id="sessionBreakBtn">Break</button>
          <button class="chip green" id="sessionBackBtn" style="display: none;">Back to work</button>
          <button class="chip red" id="sessionEndBtn">End</button>
        </div>
      </div>

      <!-- Office stats cards -->
      <section class="stats-section" id="officeStatsSection">
        <div class="stat-card">
          <span class="stat-label">Days in Month</span>
          <span class="stat-value" id="statDaysInMonth">0</span>
        </div>
        <div class="stat-card">
          <span class="stat-label">Present Days</span>
          <span class="stat-value blue" id="statPresent">0</span>
        </div>
        <div class="stat-card">
          <span class="stat-label">Leaves</span>
          <span class="stat-value purple" id="statLeave">0</span>
        </div>
        <div class="stat-card">
          <span class="stat-label">Absent</span>
          <span class="stat-value red" id="statAbsent">0</span>
        </div>
        <div class="stat-card">
          <span class="stat-label">Half Days</span>
          <span class="stat-value orange" id="statHalfDay">0</span>
        </div>
        <div class="stat-card">
          <span class="stat-label">Holidays</span>
          <span class="stat-value green" id="statHoliday">0</span>
        </div>
        <div class="stat-card">
          <span class="stat-label">Extra Working Days</span>
          <span class="stat-value green" id="statExtraDays">0</span>
        </div>
        <div class="stat-card">
          <span class="stat-label">Late Minutes</span>
          <span class="stat-value red" id="statLate">0m</span>
        </div>
        <div class="stat-card">
          <span class="stat-label">Extra Minutes</span>
          <span class="stat-value green" id="statExtra">0m</span>
        </div>
        <div class="stat-card wide">
          <span class="stat-label">Working Hours</span>
          <span class="stat-value" id="statWorkingHours">0h 0m</span>
        </div>
      </section>

      <!-- Expenses stats cards -->
      <section class="stats-section hidden" id="expensesStatsSection">
        <div class="stat-card">
          <span class="stat-label">Today Expenses</span>
          <span class="stat-value red" id="expToday">‚Çπ0</span>
        </div>
        <div class="stat-card">
          <span class="stat-label">Total Spent</span>
          <span class="stat-value blue" id="expTotalSpent">‚Çπ0</span>
        </div>
        <div class="stat-card">
          <span class="stat-label">Monthly Budget</span>
          <span class="stat-value" id="expMonthlyBudget">‚Çπ0</span>
        </div>
        <div class="stat-card">
          <span class="stat-label">Remaining Amount</span>
          <span class="stat-value green" id="expRemaining">‚Çπ0</span>
        </div>
        <div class="stat-card">
          <span class="stat-label">Over Budget</span>
          <span class="stat-value red" id="expOverBudget">‚Çπ0</span>
        </div>
        <div class="stat-card">
          <span class="stat-label">Wallet Balance</span>
          <span class="stat-value purple" id="expWalletBalance">‚Çπ0</span>
        </div>
      </section>

      <section class="expenses-category-section hidden" id="expensesCategorySection">
        <div class="exp-category-card">
          <div class="exp-category-header">
            <span class="exp-category-title">Category wise spend</span>
            <span class="exp-category-subtitle" id="expCategoryMonthLabel"></span>
          </div>
          <div class="exp-category-list" id="expCategoryList"></div>

          <div class="report-table-wrapper" style="margin-top: 8px;">
            <table class="report-table">
              <thead>
                <tr>
                  <th>Category</th>
                  <th>Sub Category</th>
                  <th>Amount</th>
                  <th>Count</th>
                </tr>
              </thead>
              <tbody id="expCategoryTableBody"></tbody>
            </table>
          </div>
        </div>
      </section>

      <!-- Expenses payee summary table -->
      <section class="expenses-payee-section hidden" id="expensesPayeeSection">
        <h4 class="section-title">Payee wise summary</h4>
        <div class="expenses-payee-cards" id="expensesPayeeTableBody"></div>
      </section>

      <button class="primary-btn full-width" id="clearMonthBtn">Clear Month</button>
    </div>

    <!-- Calculator full page -->
    <div class="calculator-page" id="calculatorPage">
      <div class="calculator-page-panel">
        <section class="calculator-page-body">
          <div class="calculator-panel">

            <!-- Basic Calculator: keypad style -->
            <div class="calculator-view" data-calc-view="basic">
              <div class="calc-display" id="basicDisplay">0</div>

              <div class="calc-keypad">
                <button class="calc-btn calc-func" data-key="mc">MC</button>
                <button class="calc-btn calc-func" data-key="mr">MR</button>
                <button class="calc-btn calc-func" data-key="mplus">M+</button>
                <button class="calc-btn calc-func" data-key="mminus">M-</button>

                <button class="calc-btn calc-func" data-key="percent">%</button>
                <button class="calc-btn calc-func" data-key="ce">CE</button>
                <button class="calc-btn calc-func" data-key="c">C</button>
                <button class="calc-btn calc-func" data-key="back">‚å´</button>

                <button class="calc-btn calc-func" data-key="inv">1/x</button>
                <button class="calc-btn calc-func" data-key="sqr">x¬≤</button>
                <button class="calc-btn calc-func" data-key="sqrt">‚àöx</button>
                <button class="calc-btn calc-op" data-key="/">√∑</button>

                <button class="calc-btn" data-key="7">7</button>
                <button class="calc-btn" data-key="8">8</button>
                <button class="calc-btn" data-key="9">9</button>
                <button class="calc-btn calc-op" data-key="*">√ó</button>

                <button class="calc-btn" data-key="4">4</button>
                <button class="calc-btn" data-key="5">5</button>
                <button class="calc-btn" data-key="6">6</button>
                <button class="calc-btn calc-op" data-key="-">‚àí</button>

                <button class="calc-btn" data-key="1">1</button>
                <button class="calc-btn" data-key="2">2</button>
                <button class="calc-btn" data-key="3">3</button>
                <button class="calc-btn calc-op" data-key="+">+</button>

                <button class="calc-btn" data-key="neg">+/-</button>
                <button class="calc-btn" data-key="0">0</button>
                <button class="calc-btn" data-key=".">.</button>
                <button class="calc-btn calc-equals" data-key="=">=</button>
              </div>
            </div>

            <!-- EMI Calculator -->
            <div class="calculator-view hidden" data-calc-view="emi">
              <div class="emi-tabs" id="emiLoanTabs">
                <button class="emi-tab active" data-loan-type="home">Home Loan</button>
                <button class="emi-tab" data-loan-type="personal">Personal Loan</button>
                <button class="emi-tab" data-loan-type="car">Car Loan</button>
              </div>

              <div class="emi-layout">
                <div class="emi-left">
                  <!-- Amount -->
                  <div class="emi-field">
                    <div class="emi-field-label-row">
                      <label>Loan Amount</label>
                      <div class="emi-value-input">
                        <span class="emi-prefix">‚Çπ</span>
                        <input type="number" id="emiAmount" />
                      </div>
                    </div>
                    <div class="emi-slider-row">
                      <input type="range" id="emiAmountRange" min="100000" max="20000000" step="10000" />
                    </div>
                    <div class="emi-scale-row">
                      <span>1L</span>
                      <span>50L</span>
                      <span>1Cr</span>
                      <span>2Cr</span>
                    </div>
                  </div>

                  <!-- Interest Rate -->
                  <div class="emi-field">
                    <div class="emi-field-label-row">
                      <label>Interest Rate</label>
                      <div class="emi-value-input">
                        <input type="number" id="emiRate" step="0.1" />
                        <span class="emi-suffix">%</span>
                      </div>
                    </div>
                    <div class="emi-slider-row">
                      <input type="range" id="emiRateRange" min="5" max="20" step="0.1" />
                    </div>
                    <div class="emi-scale-row">
                      <span>5%</span>
                      <span>10%</span>
                      <span>15%</span>
                      <span>20%</span>
                    </div>
                  </div>

                  <!-- Tenure -->
                  <div class="emi-field">
                    <div class="emi-field-label-row">
                      <label>Loan Tenure</label>
                      <div class="emi-tenure-input-group">
                        <input type="number" id="emiTenure" />
                        <div class="emi-tenure-toggle" id="emiTenureToggle">
                          <button type="button" data-unit="years" class="active">Yr</button>
                          <button type="button" data-unit="months">Mo</button>
                        </div>
                      </div>
                    </div>
                    <div class="emi-slider-row">
                      <input type="range" id="emiTenureRange" min="1" max="30" step="1" />
                    </div>
                    <div class="emi-scale-row">
                      <span>1</span>
                      <span>10</span>
                      <span>20</span>
                      <span>30</span>
                    </div>
                  </div>
                </div>

                <div class="emi-right">
                  <div class="emi-results-grid">
                    <div class="emi-result-card">
                      <span class="emi-result-label">Loan EMI</span>
                      <span class="emi-result-value" id="emiEmiValue">‚Çπ0</span>
                    </div>
                    <div class="emi-result-card">
                      <span class="emi-result-label">Total Interest Payable</span>
                      <span class="emi-result-value" id="emiInterestValue">‚Çπ0</span>
                    </div>
                    <div class="emi-result-card">
                      <span class="emi-result-label">Total Payment (Principal + Interest)</span>
                      <span class="emi-result-value" id="emiTotalValue">‚Çπ0</span>
                    </div>
                  </div>

                  <div class="emi-chart-card">
                    <span class="emi-chart-title">Break-up of Total Payment</span>
                    <div class="emi-chart-wrapper">
                      <div class="emi-chart-pie">
                        <div class="emi-chart-slice emi-chart-principal" id="emiChartPrincipal"></div>
                        <div class="emi-chart-slice emi-chart-interest" id="emiChartInterest"></div>
                      </div>
                      <div class="emi-chart-legend">
                        <div class="emi-legend-item">
                          <span class="emi-legend-dot principal"></span>
                          <span>Principal</span>
                          <span class="emi-legend-value" id="emiPrincipalPct">0%</span>
                        </div>
                        <div class="emi-legend-item">
                          <span class="emi-legend-dot interest"></span>
                          <span>Interest</span>
                          <span class="emi-legend-value" id="emiInterestPct">0%</span>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Gold Calculator (value by grams & rate) -->
            <div class="calculator-view hidden" data-calc-view="gold">
              <div class="field-row">
                <div class="field">
                  <label>Weight (grams)</label>
                  <input type="number" id="goldGrams" step="0.01" />
                </div>
                <div class="field">
                  <label>Rate per gram (‚Çπ)</label>
                  <input type="number" id="goldRate" step="0.01" />
                </div>
              </div>
              <button type="button" class="primary-btn full-width" id="goldCalcBtn">Calculate Value</button>
              <div class="calculator-result" id="goldResult"></div>
            </div>

            <!-- GST Calculator -->
            <div class="calculator-view hidden" data-calc-view="gst">
              <div class="field-row">
                <div class="field">
                  <label>Base Amount</label>
                  <input type="number" id="gstBase" />
                </div>
                <div class="field">
                  <label>GST %</label>
                  <input type="number" id="gstRate" step="0.1" />
                </div>
              </div>
              <button type="button" class="primary-btn full-width" id="gstCalcBtn">Calculate GST</button>
              <div class="calculator-result" id="gstResult"></div>
            </div>

            <!-- Discount Calculator (shopping) -->
            <div class="calculator-view hidden" data-calc-view="discount">
              <div class="field-row">
                <div class="field">
                  <label>Original Price</label>
                  <input type="number" id="discOriginal" />
                </div>
                <div class="field">
                  <label>Discount %</label>
                  <input type="number" id="discPercent" step="0.1" />
                </div>
              </div>
              <button type="button" class="primary-btn full-width" id="discCalcBtn">Calculate Discount</button>
              <div class="calculator-result" id="discResult"></div>
            </div>

            <!-- Split Bill Calculator -->
            <div class="calculator-view hidden" data-calc-view="splitBill">
              <div class="field-row">
                <div class="field">
                  <label>Total Bill</label>
                  <input type="number" id="splitTotal" />
                </div>
                <div class="field">
                  <label>No. of People</label>
                  <input type="number" id="splitPeople" />
                </div>
              </div>
              <button type="button" class="primary-btn full-width" id="splitCalcBtn">Split Bill</button>
              <div class="calculator-result" id="splitResult"></div>
            </div>

            <!-- Simple stubs for Unit, Income Tax, Currency (UI only for now) -->
            <div class="calculator-view hidden" data-calc-view="unit">
              <p class="placeholder-text">Unit converter UI will come here. You can define pairs like km ‚Üî miles, kg ‚Üî lbs.</p>
            </div>

            <div class="calculator-view hidden" data-calc-view="incomeTax">
              <p class="placeholder-text">Income tax calculator UI will come here based on your slabs.</p>
            </div>

            <div class="calculator-view hidden" data-calc-view="currency">
              <p class="placeholder-text">Currency converter UI will come here. Add your own rates when you are ready.</p>
            </div>
          </div>
        </section>
      </div>
    </div>

    <!-- Delete Expense Entry / Payee Modal -->
    <div class="modal" id="expenseEntryDeleteModal">
      <div class="modal-content">
        <header class="modal-header">
          <div>
            <div class="modal-title">Delete Expense</div>
            <div class="modal-subtitle" id="expenseEntryDeleteLabel"></div>
          </div>
          <button class="icon-btn" id="expenseEntryDeleteCloseBtn">
</button>
        </header>

        <section class="modal-section">
          <p class="placeholder-text" id="expenseEntryDeleteMessage">
            Are you sure you want to delete this expense entry?
          </p>
        </section>

        <section class="modal-section">
          <div class="report-footer-actions">
            <button class="primary-btn" id="expenseEntryDeleteCancelBtn">Cancel</button>
            <button class="primary-btn" id="expenseEntryDeleteConfirmBtn">Delete</button>
          </div>
        </section>
      </div>
    </div>

    <!-- Standalone Settings Page -->
    <div class="settings-page" id="settingsPage">
      <div class="settings-page-panel">
        <header class="settings-page-header">
          <button class="icon-btn" id="settingsCloseBtn">‚úï</button>
          <h2 class="settings-page-title">Settings</h2>
          <div class="settings-page-header-spacer"></div>
        </header>

        <section class="settings-page-body">
          <div class="settings-grid">
            <button class="settings-card" id="settingsHolidaysCard">
              <span class="settings-icon">üèñÔ∏è</span>
              <span class="settings-label">Holidays</span>
            </button>
            <button class="settings-card" disabled>
              <span class="settings-icon">üîî</span>
              <span class="settings-label">Notifications</span>
            </button>
            <button class="settings-card" disabled>
              <span class="settings-icon">üë•</span>
              <span class="settings-label">People</span>
            </button>
            <button class="settings-card" disabled>
              <span class="settings-icon">üí∞</span>
              <span class="settings-label">Expenses</span>
            </button>
            <button class="settings-card" disabled>
              <span class="settings-icon">üìù</span>
              <span class="settings-label">Notes</span>
            </button>
            <button class="settings-card" disabled>
              <span class="settings-icon">‚ûó</span>
              <span class="settings-label">Calculator</span>
            </button>
            <button class="settings-card" disabled>
              <span class="settings-icon">‚úàÔ∏è</span>
              <span class="settings-label">Travel</span>
            </button>
            <button class="settings-card" disabled>
              <span class="settings-icon">‚è∞</span>
              <span class="settings-label">Reminder</span>
            </button>
            <button class="settings-card" disabled>
              <span class="settings-icon">üéâ</span>
              <span class="settings-label">Events</span>
            </button>
            <button class="settings-card" disabled>
              <span class="settings-icon">üß†</span>
              <span class="settings-label">Memory</span>
            </button>
          </div>

          <div class="holiday-settings" id="holidaySettings" style="display: none;">
            <div class="holiday-month-row">
              <button class="icon-btn small" id="holidayPrevMonthBtn">‚Äπ</button>
              <span id="holidayMonthLabel"></span>
              <button class="icon-btn small" id="holidayNextMonthBtn">‚Ä∫</button>
            </div>
            <p class="placeholder-text">
              Add important holidays for this month. They will show in the calendar as robin blue
              and in the day modal.
            </p>
            <div class="field-row">
              <div class="field">
                <label>Day of month</label>
                <input type="number" id="holidayDayInput" min="1" max="31" />
              </div>
              <div class="field">
                <label>Holiday name</label>
                <input
                  type="text"
                  id="holidayNameInput"
                  placeholder="e.g. Diwali, Christmas"
                />
              </div>
            </div>
            <button class="primary-btn full-width" id="holidayAddBtn">Add Holiday</button>

            <ul class="holiday-list" id="holidayList"></ul>
          </div>
        </section>
      </div>
    </div>

    <!-- Date Modal -->
    <div class="modal" id="dateModal">
      <div class="modal-content">
        <header class="modal-header">
          <div>
            <div class="modal-title" id="modalDateLabel">Date</div>
            <div class="modal-subtitle" id="modalCalendarName"></div>
          </div>
          <button class="icon-btn" id="modalCloseBtn">‚úï</button>
        </header>

        <section class="modal-section">
          <div class="chip-row">
            <button class="chip secondary" data-action="workStart">
              Work Start
            </button>
            <button class="chip secondary" data-action="workEnd">
              Work End
            </button>
          </div>

          <div class="chip-row">
            <button class="chip primary" data-action="present">
              Present
            </button>
            <button class="chip red" data-action="absent">
              Absent
            </button>
          </div>

          <div class="chip-row">
            <button class="chip orange" data-action="halfDay">
              Half Day
            </button>
            <button class="chip green" data-action="holiday">
              Holiday
            </button>
          </div>

          <div class="chip-row">
            <button class="chip purple" data-action="leave">
              Leave
            </button>
          </div>
        </section>

        <section class="modal-section">
          <h4 class="section-title">Today‚Äôs Timing</h4>
          <table class="timing-table">
            <thead>
              <tr>
                <th>In Time</th>
                <th>Out Time</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>
                  <input type="time" id="inTimeCell" />
                </td>
                <td>
                  <input type="time" id="outTimeCell" />
                </td>
              </tr>
            </tbody>
          </table>
          <div style="text-align: center; margin-top: 8px;">
            <button
              id="saveTimeBtn"
              class="ios-save-btn full-width"
              style="display: none;"
            >
              Save Time
            </button>
          </div>
        </section>
      </div>
    </div>

    <!-- Payee-wise Expenses Report Modal -->
    <div class="modal" id="payeeReportModal">
      <div class="modal-content report-modal-content">
        <header class="modal-header report-modal-header">
          <div>
            <div class="modal-title" id="payeeReportTitle">Payee Report</div>
            <div class="modal-subtitle" id="payeeReportSubtitle"></div>
          </div>
          <button class="icon-btn" id="payeeReportCloseBtn">‚úï</button>
        </header>

        <section class="modal-section">
          <div class="report-summary-grid">
            <div class="report-pill primary">
              <span class="pill-label">Payee Name</span>
              <span class="pill-value" id="payeeReportPayeeName">-</span>
            </div>
            <div class="report-pill green-soft">
              <span class="pill-label">Month Expenses Payment</span>
              <span class="pill-value" id="payeeReportMonthTotal">‚Çπ0</span>
            </div>
            <div class="report-pill red">
              <span class="pill-label">This Month Pending</span>
              <span class="pill-value" id="payeeReportPending">‚Çπ0</span>
            </div>
            <div class="report-pill orange-soft">
              <span class="pill-label">Previous Month Pending</span>
              <span class="pill-value" id="payeeReportLastPending">‚Çπ0</span>
            </div>
            <div class="report-pill blue">
              <span class="pill-label">Total Paid Payment</span>
              <span class="pill-value" id="payeeReportTotalPaid">‚Çπ0</span>
              <span class="pill-value" id="payeeReportLastPaymentInfo" style="font-size:11px; font-weight:500;"></span>
            </div>
          </div>
        </section>

        <section class="modal-section">
          <h4 class="section-title">Record Payment</h4>
          <div class="field-row">
            <div class="field">
              <label>Payment Type</label>
              <select id="payeePaymentType">
                <option value="full">Full Payment</option>
                <option value="part">Part Payment</option>
              </select>
            </div>
            <div class="field">
              <label>Amount</label>
              <input type="number" id="payeePaymentAmount" min="0" placeholder="‚Çπ" />
            </div>
          </div>
          <div class="field-row">
            <div class="field">
              <label>Attach payment slip (optional)</label>
              <input type="file" id="payeePaymentFile" accept="image/*" />
            </div>
          </div>
          <button class="primary-btn full-width" id="payeePaymentSubmitBtn">Save Payment</button>
        </section>

        <section class="modal-section">
          <h4 class="section-title">Recorded Payments</h4>
          <div class="report-table-wrapper">
            <table class="report-table">
              <thead>
                <tr>
                  <th>Date</th>
                  <th>Type</th>
                  <th>Amount</th>
                  <th>Slip</th>
                </tr>
              </thead>
              <tbody id="payeePaymentTableBody"></tbody>
            </table>
          </div>
        </section>

        <section class="modal-section">
          <h4 class="section-title">Date wise details</h4>
          <div class="report-table-wrapper">
            <table class="report-table">
              <thead>
                <tr>
                  <th>Date</th>
                  <th>Time</th>
                  <th>Item</th>
                  <th>Qty</th>
                  <th>Price</th>
                  <th>Total Bill</th>
                  <th>Status</th>
                  <th>Mode</th>
                </tr>
              </thead>
              <tbody id="payeeReportTableBody"></tbody>
            </table>
          </div>
        </section>

        <section class="modal-section">
          <div class="report-footer-actions">
            <button class="primary-btn" id="payeeReportDownloadBtn">Download Report</button>
            <button class="primary-btn" id="payeeReportShareBtn">Share on WhatsApp</button>
          </div>
        </section>
      </div>
    </div>

    <!-- Expenses Date Modal -->
    <div class="modal" id="expensesModal">
      <div class="modal-content">
        <header class="modal-header">
          <div>
            <div class="modal-title" id="expensesModalDateLabel">Expenses</div>
            <div class="modal-subtitle" id="expensesModalCalendarName"></div>
          </div>
          <button class="icon-btn" id="expensesModalCloseBtn">‚úï</button>
        </header>

        <section class="modal-section">
          <div class="field-row">
            <div class="field">
              <label>Payee Name</label>
              <input type="text" id="expPayeeName" placeholder="e.g. Supermarket" />
            </div>
            <div class="field" style="flex:0 0 110px;">
              <label>&nbsp;</label>
              <label class="checkbox-inline">
                <input type="checkbox" id="expRecurring" />
                <span>Recurring?</span>
              </label>
            </div>
          </div>

          <div class="field-row">
            <div class="field">
              <label>Item Category</label>
              <select id="expCategory"><option value="">No value</option></select>
            </div>
            <div class="field">
              <label>Sub Category (optional)</label>
              <select id="expSubCategory"><option value="">No value</option></select>
            </div>
          </div>
        </section>

        <section class="modal-section">
          <h4 class="section-title">Items</h4>
          <div class="expenses-items-header">
            <span>Item</span>
            <span>Qty</span>
            <span>Price</span>
            <span></span>
          </div>
          <div class="expenses-items-list" id="expensesItemsList"></div>
          <button class="small-btn full-width" id="expAddItemRowBtn">+ Add another item</button>
        </section>

        <section class="modal-section">
          <div class="field-row">
            <div class="field">
              <label>Payment Status</label>
              <select id="expPaymentStatus">
                <option value="paid" selected>Paid</option>
                <option value="pending">Pending</option>
              </select>
            </div>
            <div class="field">
              <label>Payment Mode</label>
              <div class="radio-group" id="expPaymentModeGroup">
                <label class="radio-inline">
                  <input type="radio" name="expPaymentMode" value="online" checked />
                  <span>Online</span>
                </label>
                <label class="radio-inline">
                  <input type="radio" name="expPaymentMode" value="cash" />
                  <span>Cash</span>
                </label>
              </div>
            </div>
          </div>

          <div class="field-row">
            <div class="field">
              <label>Date</label>
              <input type="text" id="expDateDisplay" readonly />
            </div>
            <div class="field">
              <label>Time</label>
              <input type="text" id="expTimeDisplay" readonly />
            </div>
          </div>
        </section>

        <section class="modal-section">
          <div class="expenses-total-row">
            <span>Total Expenses</span>
            <span class="expenses-total-value" id="expTotalForDate">‚Çπ0</span>
          </div>
          <button class="primary-btn full-width" id="expSaveEntryBtn">Add</button>
        </section>
      </div>
    </div>

    <!-- Expenses Monthly Report Modal -->
    <div class="modal" id="expensesReportModal">
      <div class="modal-content report-modal-content">
        <header class="modal-header report-modal-header">
          <div>
            <div class="modal-title" id="expensesReportTitle">Expenses Report</div>
            <div class="modal-subtitle" id="expensesReportSubtitle"></div>
          </div>
          <button class="icon-btn" id="expensesReportCloseBtn">‚úï</button>
        </header>

        <section class="modal-section">
          <div class="report-summary-grid">
            <div class="report-pill primary">
              <span class="pill-label">Payee Name</span>
              <span class="pill-value" id="expReportPayeeName">-</span>
            </div>
            <div class="report-pill green-soft">
              <span class="pill-label">Total Expenses</span>
              <span class="pill-value" id="expReportTotal">‚Çπ0</span>
            </div>
            <div class="report-pill blue">
              <span class="pill-label">Paid Payment</span>
              <span class="pill-value" id="expReportPaid">‚Çπ0</span>
            </div>
            <div class="report-pill red">
              <span class="pill-label">Pending Payment</span>
              <span class="pill-value" id="expReportPending">‚Çπ0</span>
            </div>
            <div class="report-pill orange-soft" style="grid-column: span 2;">
              <span class="pill-label" id="expReportCarryLabel">Carry forward pending amount</span>
              <span class="pill-value" id="expReportCarryValue">‚Çπ0</span>
            </div>
          </div>
        </section>

        <section class="modal-section">
          <h4 class="section-title">Date wise details</h4>
          <div class="report-table-wrapper">
            <table class="report-table">
              <thead>
                <tr>
                  <th>Date</th>
                  <th>Time</th>
                  <th>Payee</th>
                  <th>Item</th>
                  <th>Qty</th>
                  <th>Price</th>
                  <th>Total Bill</th>
                  <th>Status</th>
                  <th>Mode</th>
                  <th>Category</th>
                  <th>Sub Category</th>
                </tr>
              </thead>
              <tbody id="expensesReportTableBody"></tbody>
            </table>
          </div>
        </section>

        <section class="modal-section">
          <div class="report-footer-actions">
            <button class="primary-btn" id="expensesReportDownloadBtn">Download Report</button>
            <button class="primary-btn" id="expensesReportShareBtn">Share on WhatsApp</button>
          </div>
        </section>
      </div>
    </div>

    <!-- Clear Month Modal -->
    <div class="modal" id="clearMonthModal">
      <div class="modal-content">

            <section class="modal-section">
              <p class="placeholder-text">
                Are you sure you want to delete this expense entry? This cannot be undone.
              </p>
              <div class="chip-row">
                <button class="chip secondary" id="deleteExpenseCancelBtn">Cancel</button>
                <button class="chip red" id="deleteExpenseConfirmBtn">Delete</button>
              </div>
            </section>
          </p>
          <div class="chip-row">
            <button class="chip secondary" id="clearMonthCancelBtn">Cancel</button>
            <button class="chip red" id="clearMonthConfirmBtn">Clear</button>
          </div>
        </section>
      </div>
    </div>

    <!-- Break modal -->
    <div class="modal" id="breakModal">
      <div class="modal-content">
        <header class="modal-header">
          <div>
            <div class="modal-title">Break</div>
            <div class="modal-subtitle" id="breakModalCalendarName"></div>
          </div>
          <button class="icon-btn" id="breakModalCloseBtn">‚úï</button>
        </header>

        <section class="modal-section">
          <p class="placeholder-text">
            You are going on a break. When you return, tap ‚ÄúBack to work‚Äù
            in the bar to resume.
          </p>
          <div class="field">
            <label>Break reason (optional)</label>
            <textarea
              id="breakReasonInput"
              rows="2"
              placeholder="e.g. Lunch, Meeting, Personal"
            ></textarea>
          </div>
          <div class="chip-row">
            <button class="chip secondary" id="breakCancelBtn">Cancel</button>
            <button class="chip primary" id="breakDoneBtn">Done</button>
          </div>
        </section>
      </div>
    </div>

    <!-- PIN Modal -->
    <div class="modal center-modal" id="pinModal">
      <div class="modal-content">
        <header class="modal-header">
          <div>
            <div class="modal-title">Unlock Calendar</div>
            <div class="modal-subtitle" id="pinCalendarName"></div>
          </div>
          <button class="icon-btn" id="pinModalCloseBtn">‚úï</button>
        </header>

        <section class="modal-section">
          <div class="field">
            <label>Enter PIN</label>
            <input
              type="password"
              id="pinInput"
              maxlength="6"
              inputmode="numeric"
            />
          </div>
          <div class="chip-row">
            <button class="chip primary" id="pinUnlockBtn">Unlock</button>
            <button class="chip secondary" id="pinCancelBtn">Cancel</button>
          </div>
        </section>
      </div>
    </div>

    <!-- Delete Calendar Modal -->
    <div class="modal" id="deleteModal">
      <div class="modal-content">
        <header class="modal-header">
          <div>
            <div class="modal-title">Delete Calendar</div>
            <div class="modal-subtitle" id="deleteCalendarName"></div>
          </div>
          <button class="icon-btn" id="deleteModalCloseBtn">‚úï</button>
        </header>

        <section class="modal-section">
          <p class="placeholder-text" id="deleteWarningText">
            Are you sure you want to delete this calendar? This action cannot be undone.
          </p>
          <div class="chip-row">
            <button class="chip secondary" id="deleteCancelBtn">Cancel</button>
            <button class="chip red " id="deleteConfirmBtn">Delete</button>
          </div>
        </section>
      </div>
    </div>

    <!-- Running timer warning modal -->
    <div class="modal" id="runningModal">
      <div class="modal-content">
        <header class="modal-header">
          <div>
            <div class="modal-title">Timer Already Running</div>
            <div class="modal-subtitle" id="runningModalCalendarName"></div>
          </div>
          <button class="icon-btn" id="runningModalCloseBtn">‚úï</button>
        </header>

        <section class="modal-section">
          <p class="placeholder-text">
            Your last work timer is currently running on another date.
            Please stop the previous day (Work End) before starting a new one.
          </p>
          <div class="chip-row">
            <button class="chip primary" id="runningOkBtn">OK</button>
          </div>
        </section>
      </div>
    </div>

    <!-- Monthly Report Modal -->
    <div class="modal" id="reportModal">
      <div class="modal-content report-modal-content">
        <header class="modal-header report-modal-header">
          <div>
            <div class="modal-title" id="reportMonthTitle">Monthly Report</div>
            <div class="modal-subtitle" id="reportMonthSubtitle"></div>
          </div>
          <button class="icon-btn" id="reportCloseBtn">‚úï</button>
        </header>

        <section class="modal-section">
          <div class="report-summary-grid">
            <div class="report-pill primary">
              <span class="pill-label aa">Total Days</span>
              <span class="pill-value" id="repTotalDays">0</span>
            </div>
            <div class="report-pill purple">
              <span class="pill-label">Leaves</span>
              <span class="pill-value" id="repLeaves">0</span>
            </div>
            <div class="report-pill orange">
              <span class="pill-label">Half Days</span>
              <span class="pill-value" id="repHalfDays">0</span>
            </div>
            <div class="report-pill green">
              <span class="pill-label">Holidays</span>
              <span class="pill-value" id="repHolidays">0</span>
            </div>
            <div class="report-pill blue">
              <span class="pill-label">Weekend Days</span>
              <span class="pill-value" id="repWeekendDays">0</span>
            </div>
            <div class="report-pill teal">
              <span class="pill-label">Extra Days</span>
              <span class="pill-value" id="repExtraDays">0</span>
            </div>
          </div>
        </section>

        <section class="modal-section">
          <h4 class="section-title">Hours & Salary</h4>
          <div class="report-summary-grid">
            <div class="report-pill red">
              <span class="pill-label">Late Minutes</span>
              <span class="pill-value" id="repLateMinutes">0m</span>
            </div>
            <div class="report-pill yellow">
              <span class="pill-label">Early Minutes</span>
              <span class="pill-value" id="repEarlyMinutes">0m</span>
            </div>
            <div class="report-pill orange-soft">
              <span class="pill-label">Short Hours</span>
              <span class="pill-value" id="repShortHours">0h 0m</span>
            </div>
            <div class="report-pill green-soft">
              <span class="pill-label">Extra Minutes</span>
              <span class="pill-value" id="repExtraMinutes">0m</span>
            </div>
            <div class="report-pill salary-main">
              <span class="pill-label">Total Monthly Salary</span>
              <span class="pill-value" id="repTotalSalary">‚Çπ0</span>
            </div>
            <div class="report-pill salary-deduct">
              <span class="pill-label">Total Deduction</span>
              <span class="pill-value" id="repSalaryDeduction">‚Çπ0</span>
            </div>
            <div class="report-pill salary-final">
              <span class="pill-label">Final Salary</span>
              <span class="pill-value" id="repFinalSalary">‚Çπ0</span>
            </div>
            <div class="report-pill productivity-pill">
              <span class="pill-label">Month Productivity</span>
              <span class="pill-value" id="repProductivity">0%</span>
            </div>
          </div>
        </section>

        <section class="modal-section">
          <h4 class="section-title">Date wise details</h4>
          <div class="report-table-wrapper">
            <table class="report-table">
              <thead>
                <tr>
                  <th>Date</th>
                  <th>Day</th>
                  <th>Status</th>
                  <th>In</th>
                  <th>Out</th>
                  <th>Break</th>
                  <th>Worked</th>
                  <th>Late</th>
                  <th>Early</th>
                  <th>Short</th>
                </tr>
              </thead>
              <tbody id="reportTableBody"></tbody>
            </table>
          </div>
        </section>

        <section class="modal-section">
          <div class="report-footer-actions">
            <button class="primary-btn" id="reportDownloadBtn">Download PDF</button>
            <button class="primary-btn" id="reportShareBtn">Share on Whatsapp</button>
          </div>
        </section>
      </div>
    </div>

    <!-- End-of-day work reminder modal -->
    <div class="modal" id="endReminderModal">
      <div class="modal-content">
        <header class="modal-header">
          <div>
            <div class="modal-title">Work Time Over</div>
            <div class="modal-subtitle" id="endReminderSubtitle"></div>
          </div>
          <button class="icon-btn" id="endReminderCloseBtn">‚úï</button>
        </header>

        <section class="modal-section">
          <p class="placeholder-text">
            Your scheduled office time is over. Do you want to stop today‚Äôs work timer or continue a bit more?
          </p>
          <div class="chip-row">
            <button class="chip primary" id="endReminderStopBtn">Stop now</button>
          </div>
          <div class="chip-row">
            <button class="chip secondary" data-snooze="10">+10 min</button>
            <button class="chip secondary" data-snooze="30">+30 min</button>
            <button class="chip secondary" data-snooze="60">+1 hour</button>
          </div>
        </section>
      </div>
    </div>

    <script src="script.js"></script>
  </body>
</html>
